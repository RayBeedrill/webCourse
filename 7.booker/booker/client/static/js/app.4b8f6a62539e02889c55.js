webpackJsonp([1],{"/Huv":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row title"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),t.err?a("h5",{staticClass:"text-danger"},[t._v(t._s(t.err))]):t._e()])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"login-div"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{placeholder:"Login",type:"text",name:"login"},domProps:{value:t.login},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.loginMeth(e)},input:function(e){e.target.composing||(t.login=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control",attrs:{placeholder:"Password",type:"password",name:"pass"},domProps:{value:t.pass},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.loginMeth(e)},input:function(e){e.target.composing||(t.pass=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-success login-btn",attrs:{type:"submit"},on:{click:t.loginMeth}},[t._v("Login")])])])])])])},r=[],n={render:i,staticRenderFns:r};e.a=n},0:function(t,e){},"0dF1":function(t,e){},"0jg9":function(t,e){},"2C4d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calend"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row title"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"rooms-links"},t._l(t.rooms,function(e){return a("p",{staticClass:"btn btn-primary",class:t.selectedRoom==e.id_room?"btn-warning":"btn-primary",on:{click:function(a){t.getRoomEvents(e.id_room)}}},[t._v(t._s(e.name))])})),t._v(" "),a("div",{staticClass:"calendar-nav"},[a("button",{staticClass:"btn btn-primary",on:{click:t.getPrevMonth}},[t._v("<")]),t._v(" "),a("div",{staticClass:"calendar-date"},[a("h4",[t._v(t._s(t.month))]),t._v(" "),a("h5",[t._v(t._s(t.year))])]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:t.getNextMonth}},[t._v(">")])]),t._v(" "),a("div",{staticClass:"text-left btn-group-calendar"},[a("button",{staticClass:"btn btn-success",on:{click:t.changeFormat}},[t._v("Format: "+t._s(t.format))]),t._v(" "),a("button",{staticClass:"btn btn-success",on:{click:t.changeTimeFormat}},[t._v("Time Format: "+t._s(t.hourFormat))])]),t._v(" "),a("month",{attrs:{monthArr:t.dayArr,format:t.format,monthNumber:t.monthNum,room:t.selectedRoom,year:t.year,hourF:t.hourFormat}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 text-left"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){t.$router.push("/book/"+t.selectedRoom)}}},[t._v("Book It!")]),t._v(" "),t.admin?a("button",{staticClass:"btn btn-warning",on:{click:function(e){t.$router.push("/employeeList")}}},[t._v("Employee List")]):t._e()]),t._v(" "),t.editMsg.length>0?a("div",{staticClass:"col-md-6 bg-info"},[t._l(t.editMsg,function(e){return"edit"==t.typeMsg?a("p",{staticClass:"text-danger"},[t._v("unsuccessfull update: "+t._s(t._f("dateFormat")(e.start))+" - "+t._s(t._f("dateFormat")(e.end)))]):t._e()}),t._v(" "),t._l(t.editMsg,function(e){return"del"==t.typeMsg?a("p",{staticClass:"text-success"},[t._v("successfully deleted: "+t._s(t._f("dateFormat")(e.start))+" - "+t._s(t._f("dateFormat")(e.end)))]):t._e()}),t._v(" "),a("p")],2):t._e()])])])},r=[],n={render:i,staticRenderFns:r};e.a=n},"6E8G":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add user"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row title"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),t.err?a("h5",{staticClass:"text-danger"},[t._v(t._s(t.err))]):t._e()])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"login-div",class:t.id?"edit-div":""},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{placeholder:"Name",type:"text",name:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{placeholder:"Email",type:"email",name:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),""==t.id?a("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{placeholder:"Login",type:"text",name:"login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}):t._e(),t._v(" "),""==t.id?a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control",attrs:{placeholder:"Password",type:"password",name:"pass"},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}):t._e(),t._v(" "),""==t.id?a("button",{staticClass:"btn btn-success login-btn",attrs:{type:"submit"},on:{click:t.registerUser}},[t._v("Register")]):t._e(),t._v(" "),t.id?a("button",{staticClass:"btn btn-success login-btn",attrs:{type:"submit"},on:{click:t.editUser}},[t._v("Edit")]):t._e()])])])])])},r=[],n={render:i,staticRenderFns:r};e.a=n},"8vKc":function(t,e,a){"use strict";var i=a("pFYg"),r=a.n(i);e.a={name:"employeeEdit",data:function(){return{msg:"",login:"",pass:"",name:"",email:"",err:"",id:""}},created:function(){this.checkAdmin(),void 0==this.$route.params.id?this.msg="Add new user":(this.msg="Edit user",this.id=this.$route.params.id,this.getUser())},methods:{getUser:function(){var t=this,e=this.id,a=function(e){var a=e[0];t.name=a.name,t.email=a.email,t.login=a.login};getQuery(this,myPath+"application/api/users/",e).then(a,null)},editUser:function(){var t=this;if(this.name.length>3&&this.email.length>3){var e={id:this.id,name:this.name,email:this.email},a=function(e){1==e&&(t.err="user edited"),"object"==(void 0===e?"undefined":r()(e))&&(t.err="",e.name||(t.err+="| name must be only character |"),e.email||(t.err+=" | email has no valid format| "))};putQuery(this,myPath+"application/api/users/",e).then(a,null)}else this.err="inputs has errors"},registerUser:function(){var t=this;if(this.login.length>3&&this.pass.length>4&&this.name.length>3&&this.email.length>3){var e={name:this.name,login:this.login,pass:this.pass,email:this.email},a=function(e){1==e&&(t.login="",t.pass="",t.name="",t.email="",t.err="user registred success"),0==e&&(t.err="this login already in use"),"object"==(void 0===e?"undefined":r()(e))&&(t.err="",e.name||(t.err+="| name must be only character |"),e.login||(t.err+=" | login can contain only charaters and nums | "),e.pass||(t.err+=" | password must contain atleast one num and one big character | "),e.email||(t.err+=" | email has no valid format| "))};postQuery(this,myPath+"application/api/auth/",e).then(a,null)}else this.err="inputs has errors"},checkAdmin:function(){var t=this,e=function(e){if("1"==e.id_role)return!0;t.$router.push("/calendar")},a=function(){t.$router.push("/")};getQuery(this,myPath+"application/api/auth/").then(e,a)}}}},"93Ec":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("nav",{staticClass:"navbar navbar-default"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"navbar-header"},[t._m(0),t._v(" "),a("router-link",{staticClass:"navbar-brand",attrs:{to:"/calendar",href:"#"}},[t._v("GeekBooker")])],1),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"bs-example-navbar-collapse-1"}},[t.login?a("ul",{staticClass:"nav navbar-nav"},[a("li",[a("router-link",{attrs:{to:"/calendar"}},[t._v("Calendar")])],1)]):t._e(),t._v(" "),t.login?a("ul",{staticClass:"nav navbar-nav navbar-right"},[t.admin?a("li",[a("router-link",{attrs:{to:"/employeeList"}},[t._v("Admin panel")])],1):t._e(),t._v(" "),a("li",[a("a",{attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])])]):t._e()])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"}),t._v(" "),a("span",{staticClass:"icon-bar"})])}],n={render:i,staticRenderFns:r};e.a=n},"B+fr":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"day"},[a("p",[t._v(t._s(t.day.data))]),t._v(" "),t._l(t.dayProp,function(e){return e.roomId==t.idRoom&&e.year==t.year&&e.month==t.month&&e.start>t.nowDate?a("a",{attrs:{onclick:"window.open(this.href, '', 'scrollbars=1,height='+Math.min(560, screen.availHeight)+',width='+Math.min(500, screen.availWidth)); return false;",href:t.shopHome+"dateEdit/"+t.year+"/"+(t.month+1)+"/"+t.day.data+"/"+e.id+"/"}},[a("p",[t._v(t._s(t._f("dateFormat")(e.start,t.timeF))+" - "+t._s(t._f("dateFormat")(e.end,t.timeF)))])]):t._e()}),t._v(" "),t._l(t.dayProp,function(e){return e.roomId==t.idRoom&&e.year==t.year&&e.month==t.month&&e.start<t.nowDate?a("p",[t._v(t._s(t._f("dateFormat")(e.start,t.timeF))+" - "+t._s(t._f("dateFormat")(e.end,t.timeF)))]):t._e()})],2)},r=[],n={render:i,staticRenderFns:r};e.a=n},DBxQ:function(t,e){},DVGF:function(t,e,a){"use strict";function i(t){a("qgDj")}var r=a("qWC8"),n=a("v9G5"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-275a3398",null);e.a=c.exports},E5zT:function(t,e,a){"use strict";e.a={name:"employeeList",data:function(){return{usersArr:[],rowClass:"",userId:getCookie("id")}},created:function(){this.checkAdmin(),this.getUsers()},methods:{removeUser:function(t){var e=this,a=function(t){e.rowClass="acount-fade",e.getUsers()};confirm("Confirm delete please")&&deleteQuery(this,myPath+"application/api/users/",t).then(a,null)},getUsers:function(){var t=this,e=function(e){t.usersArr=e};getQuery(this,myPath+"application/api/users/").then(e,null)},checkAdmin:function(){var t=this,e=function(e){if("1"==e.id_role)return!0;t.$router.push("/calendar")},a=function(){t.$router.push("/")};getQuery(this,myPath+"application/api/auth/").then(e,a)}},computed:{userListUpdate:function(){return this.usersArr}}}},"F4/v":function(t,e,a){"use strict";function i(t){a("Q3UQ")}var r=a("Fex2"),n=a("SHdv"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-c78e3afe",null);e.a=c.exports},FX9o:function(t,e){},FYox:function(t,e){},Fex2:function(t,e,a){"use strict";e.a={name:"book",data:function(){return{msg:"book",room:"",roomId:"",usersArr:[],user:"1",yearsArr:["2017","2018","2019"],monthArr:["January","February","March","April","May","June","Julay","August","September","October","November","December"],days:[],month:0,year:0,day:0,timeStartHour:8,timeEndHour:8,timeStartMin:0,timeEndMin:0,timeStartMidnight:"0",timeEndMidnight:"0",recurring:!1,recurringType:1,recurringDuration:"",desc:"",admin:!1,nowDate:new Date(Date.now()),dateMsg:"",timeStartMsg:"",timeEndMsg:"",descMsg:"",recMsg:"",notBookedArr:[]}},created:function(){this.checkAdmin(),this.getRooms(),this.getUsers(),this.setDateSelect()},methods:{formCheck:function(){if(this.dateMsg="",this.timeStartMsg="",this.timeEndMsg="",this.descMsg="",this.recMsg="",Number(this.yearsArr[this.year])>=this.nowDate.getFullYear())var t=!0;else{this.dateMsg+="wrong year, ";var t=!1}if(this.month>=this.nowDate.getMonth())var e=!0;else{this.dateMsg+="wrong month ";var e=!1}if(this.days[this.day]>=this.nowDate.getDate()||this.month>this.nowDate.getMonth())var a=!0;else{this.dateMsg+=" wrong day";var a=!1}var i=function(t,e){return"0"==e?t>=8:t<=8},r=i(this.timeStartHour,this.timeStartMidnight),n=i(this.timeEndHour,this.timeEndMidnight);if(this.timeStartHour==this.timeEndHour&&this.timeStartMin==this.timeEndMin&&this.timeStartMidnight==this.timeEndMidnight){this.timeStartMsg="start and end of meeting cant bee equivalent",this.timeEndMsg="";var s=!1}else var s=!0;if(r?r=!0:(this.timeStartMsg="rooms are availiable from 8 a.m. to 8 p.m, wrong start value",r=!1),n?n=!0:(this.timeEndMsg="rooms are availiable from 8 a.m. to 8 p.m, wrong end value",n=!1),this.desc.length>=5)var o=!0;else{var o=!1;this.descMsg="description is to short"}return!!(t&&e&&a&&r&&n&&o&&s)},setDateSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Date;if(t)var a=t+1;else var a=e.getMonth()+1;this.days=[];for(var i=new Date(e.getFullYear(),a,0).getDate(),r=1;r<=i;r++)this.days.push(r)},getRooms:function(){var t=this,e=function(e){for(var a in e)t.$route.params.id_room==e[a].id_room&&(t.room=e[a].name,t.roomId=e[a].id_room)};getQuery(this,myPath+"application/api/rooms/").then(e,null)},getUsers:function(){var t=this,e=function(e){t.usersArr=e};getQuery(this,myPath+"application/api/users/").then(e,null)},checkAdmin:function(){var t=this,e=function(e){"1"==e.id_role?t.admin=!0:(t.admin=!1,t.user=getCookie("id"))};getQuery(this,myPath+"application/api/auth/").then(e,null)},bookRoom:function(){var t=this,e=new Date,a=this.timeStartHour,i=this.timeEndHour;"1"==this.timeStartMidnight&&(a+=12),"1"==this.timeEndMidnight&&(i+=12);var r=new Date(this.yearsArr[this.year],this.month,this.days[this.day],a,this.timeStartMin),n=new Date(this.yearsArr[this.year],this.month,this.days[this.day],i,this.timeEndMin),s={roomId:this.$route.params.id_room,user:this.user,dayCreation:new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()/1e3,startEvent:r.getTime()/1e3,endEvent:n.getTime()/1e3,desc:this.desc,recurring:this.recurring};s.recurring&&(s.recType=this.recurringType,s.recDuration=this.recurringDuration);var o=function(e){if(1==e||0==e.length)t.$router.push("/calendar");else{new Date;for(var a in e)t.notBookedArr.push(e[a])}};this.formCheck()&&postQuery(this,myPath+"application/api/events/",s).then(o,null)}},watch:{month:function(t){this.setDateSelect(t)},recurringDuration:function(){1!=this.recurringType&&2!=this.recurringType||(0!=this.recurringDuration.search(/[1-4]/)||this.recurringDuration.length>1?(this.recurringDuration="",this.recMsg="value must be beatween 1-4 number"):this.recMsg="")}},filters:{dateFormat:function(t){var e=t+"000",a=Number(e),i=new Date(a),r=i.getHours(),n=i.getMinutes(),s=i.getDate(),o=i.getMonth()+1,c=i.getFullYear();return n<10&&(n="0"+n),r+" : "+n+"   "+s+"/"+o+"/"+c}}}},H2he:function(t,e,a){"use strict";function i(t){a("e4UG")}var r=a("E5zT"),n=a("Iyqv"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-ef7a9af8",null);e.a=c.exports},IfTj:function(t,e,a){"use strict";function i(t){a("DBxQ")}var r=a("qF7k"),n=a("Z+3r"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-0f7aba20",null);e.a=c.exports},Iyqv:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-md-offset-3"},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",t._l(t.userListUpdate,function(e){return a("tr",[a("td",[t._v(t._s(e.id_user))]),t._v(" "),a("td",[a("a",{attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.name))])]),t._v(" "),t.userId!=e.id_user?a("td",{staticClass:"remove-action",on:{click:function(a){t.removeUser(e.id_user)}}},[t._v("REMOVE")]):t._e(),t._v(" "),t.userId==e.id_user?a("td",{staticClass:"remove-action"}):t._e(),t._v(" "),a("td",[a("router-link",{attrs:{to:"/employeeEdit/"+e.id_user}},[t._v("EDIT")])],1)])}))]),t._v(" "),a("router-link",{staticClass:"btn btn-primary",attrs:{to:"/employeeEdit"}},[t._v("add a new employee")])],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[t._v("name")]),t._v(" "),a("td",[t._v("action")]),t._v(" "),a("td",[t._v("action")])])])}],n={render:i,staticRenderFns:r};e.a=n},"J+R/":function(t,e,a){"use strict";function i(t){a("0dF1")}var r=a("ngLG"),n=a("/Huv"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-7a1b0dc0",null);e.a=c.exports},M93x:function(t,e,a){"use strict";function i(t){a("FX9o")}var r=a("xJD8"),n=a("MTSB"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,null,null);e.a=c.exports},MTSB:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("header-book"),t._v(" "),a("transition",{attrs:{name:"component-fade",mode:"out-in"}},[a("router-view")],1)],1)},r=[],n={render:i,staticRenderFns:r};e.a=n},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),r=a("M93x"),n=a("YaEn"),s=a("ORbq");i.a.use(s.a),i.a.config.productionTip=!1,i.a.config.devtools=!0,n.a.beforeEach(function(t,e,a){getCookie("id")?(t.meta.login=!0,a()):"/"!=t.path?(t.meta.login=!1,a("/")):a()}),new i.a({el:"#app",router:n.a,template:"<App/>",components:{App:r.a}})},Q3UQ:function(t,e){},SHdv:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("h3",[t._v("Event for:"+t._s(t.room))]),t._v(" "),a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("1. Booked for:")]),t._v(" "),t.admin?a("select",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.user=e.target.multiple?a:a[0]}}},t._l(t.usersArr,function(e){return a("option",{domProps:{value:e.id_user}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),t._l(t.usersArr,function(e){return t.admin||e.id_user!=t.user?t._e():a("p",{staticClass:"text-left"},[t._v(t._s(e.name))])})],2)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[t._m(0),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.month=e.target.multiple?a:a[0]}}},t._l(t.monthArr,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.day=e.target.multiple?a:a[0]}}},t._l(t.days,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.year=e.target.multiple?a:a[0]}}},t._l(t.yearsArr,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),t.dateMsg?a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.dateMsg))])]):t._e()])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[t._m(1),t._v(" "),t.timeStartMsg?a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.timeStartMsg))])]):t._e(),t._v(" "),t.timeEndMsg?a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.timeEndMsg))])]):t._e(),t._v(" "),a("div",{staticClass:"col-md-4 marg"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeStartHour,expression:"timeStartHour"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeStartHour=e.target.multiple?a:a[0]}}},t._l(12,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"col-md-4 marg"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeStartMin,expression:"timeStartMin"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeStartMin=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),t._l(3,function(e){return a("option",{domProps:{value:15*e}},[t._v(t._s(15*e))])})],2)]),t._v(" "),a("div",{staticClass:"col-md-4 marg"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeStartMidnight,expression:"timeStartMidnight"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeStartMidnight=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("PM")])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeEndHour,expression:"timeEndHour"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeEndHour=e.target.multiple?a:a[0]}}},t._l(12,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeEndMin,expression:"timeEndMin"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeEndMin=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),t._l(3,function(e){return a("option",{domProps:{value:15*e}},[t._v(t._s(15*e))])})],2)]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeEndMidnight,expression:"timeEndMidnight"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeEndMidnight=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("PM")])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("4. Enter the specifics for the meetings(This will be what peolpe see when they click on an. event link.)")]),t._v(" "),t.descMsg?a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.descMsg))]):t._e(),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4 text-left"},[a("div",{staticClass:"col-md-12"},[a("p",[t._v("It's going to be recurring event?")]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurring,expression:"recurring"}],attrs:{type:"radio",name:"optionsRadios",id:"optionsRadios1",checked:""},domProps:{value:!1,checked:t._q(t.recurring,!1)},on:{change:function(e){t.recurring=!1}}}),t._v("\n            No\n          ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurring,expression:"recurring"}],attrs:{type:"radio",name:"optionsRadios",id:"optionsRadios2"},domProps:{value:!0,checked:t._q(t.recurring,!0)},on:{change:function(e){t.recurring=!0}}}),t._v("\n            Yes\n          ")])])])])]),t._v(" "),t.recurring?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12 text-left"},[a("p",[t._v("5. If it's recurring specify weekly, bi-weekly, or monthly")]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringType,expression:"recurringType"}],attrs:{type:"radio",name:"recurringType",id:"recurringType1",checked:""},domProps:{value:1,checked:t._q(t.recurringType,1)},on:{change:function(e){t.recurringType=1}}}),t._v("\n            weekly\n          ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringType,expression:"recurringType"}],attrs:{type:"radio",name:"recurringType",id:"recurringType2"},domProps:{value:2,checked:t._q(t.recurringType,2)},on:{change:function(e){t.recurringType=2}}}),t._v("\n           bi-weekly\n          ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringType,expression:"recurringType"}],attrs:{type:"radio",name:"recurringType",id:"recurringType3"},domProps:{value:3,checked:t._q(t.recurringType,3)},on:{change:function(e){t.recurringType=3}}}),t._v("\n          monthly \n          ")])]),t._v(" "),a("p",[t._v("6. If weekly or be weekly, specify number of weeks for it to keep recurring. If monthly, specify the number of months")]),t._v(" "),3!=t.recurringType?a("div",{staticClass:"col-md-7"},[t.recMsg?a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.recMsg))]):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringDuration,expression:"recurringDuration"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.recurringDuration},on:{input:function(e){e.target.composing||(t.recurringDuration=e.target.value)}}}),t._v(" "),a("label",[t._v("duration(max 4 weeks)")])]):t._e(),t._v(" "),3==t.recurringType?a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurringDuration,expression:"recurringDuration"}],staticClass:"form-control",attrs:{disabled:"",type:"text"},domProps:{value:t.recurringDuration=1,value:t.recurringDuration},on:{input:function(e){e.target.composing||(t.recurringDuration=e.target.value)}}}),t._v(" "),a("label",[t._v("duration(max 4 weeks)")])]):t._e()])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.bookRoom}},[t._v("Book")]),t._v(" "),t.notBookedArr.length>0?a("div",{staticClass:"bg-danger danger-mrg"},[a("p",{staticClass:"text-danger"},[t._v("Was not booked:")]),t._v(" "),t._l(t.notBookedArr,function(e){return a("p",{staticClass:"text-danger"},[t._v(t._s(t._f("dateFormat")(e.start))+" - "+t._s(t._f("dateFormat")(e.end)))])})],2):t._e()])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("2. I would like to book this meeting:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("3. Specify what the time and end of the meeting(This will be what people see on the calendar.)")])])}],n={render:i,staticRenderFns:r};e.a=n},Vcaf:function(t,e,a){"use strict";e.a={name:"header",data:function(){return{login:!1,admin:!1}},created:function(){getCookie("id")&&(this.login=!0,this.checkAdmin())},methods:{logout:function(){var t=this,e=function(){t.login=!1,t.admin=!1,t.$router.push("/")};deleteQuery(this,myPath+"application/api/auth/").then(e,null)},checkAdmin:function(){var t=this,e=function(e){"1"==e.id_role?t.admin=!0:t.admin=!1};getQuery(this,myPath+"application/api/auth/").then(e,null)}},watch:{$route:function(t,e){this.login=t.meta.login,this.checkAdmin()}}}},YORi:function(t,e,a){"use strict";function i(t){a("wjxB")}var r=a("tVek"),n=a("B+fr"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-fea17298",null);e.a=c.exports},YT0m:function(t,e,a){"use strict";var i=a("DVGF");e.a={name:"calend",data:function(){return{month:"",dayArr:[],year:(new Date).getFullYear(),monthNum:(new Date).getMonth(),format:"RU",hourFormat:"24h",admin:!1,rooms:[],selectedRoom:"1",refresher:!1,editMsg:[],typeMsg:""}},created:function(){var t=this;this.getMonthArr(this.year,this.monthNum),this.checkAdmin(),this.getRooms(),window.getDelete=function(e,a,i){if(t.refresher=e,t.typeMsg=i,null!=a&&a.length>0){t.editMsg=[];for(var r in a)t.editMsg.push(a[r])}}},components:{Month:i.a},methods:{getMonthArr:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ru",i=["January","February","March","April","May","June","Julay","August","September","October","November","December"];this.dayArr=[];var r=e,n=new Date(t,r);this.month=i[r];var s=0;this.dayArr[0]=[];for(var o=0;o<this.getDay(n,a);o++)this.dayArr[0].push({}),s++;for(var c=0;n.getMonth()==r;)this.dayArr[c].push({data:n.getDate()}),this.getDay(n,a)%7==6&&(c++,this.dayArr[c]=[]),n.setDate(n.getDate()+1);return this.dayArr},getDay:function(t,e){var a=t.getDay();return"ru"==e?(0==a&&(a=7),a-1):a},getNextMonth:function(){this.monthNum++,this.monthNum>11&&(this.monthNum=0,this.year++),this.dayArr=this.getMonthArr(this.year,this.monthNum)},getPrevMonth:function(){this.monthNum--,this.monthNum<0&&(this.monthNum=11,this.year--),this.dayArr=this.getMonthArr(this.year,this.monthNum)},changeFormat:function(){"RU"==this.format?(this.format="US",this.dayArr=this.getMonthArr(this.year,this.monthNum,"eng")):(this.format="RU",this.dayArr=this.getMonthArr(this.year,this.monthNum,"ru"))},changeTimeFormat:function(){"24h"==this.hourFormat?this.hourFormat="12h":this.hourFormat="24h"},checkAdmin:function(){var t=this,e=function(e){"1"==e.id_role?t.admin=!0:t.admin=!1};getQuery(this,myPath+"application/api/auth/").then(e,null)},getRooms:function(){var t=this,e=function(e){t.rooms=e};getQuery(this,myPath+"application/api/rooms/").then(e,null)},getRoomEvents:function(t){this.selectedRoom=t}},watch:{$route:function(t,e){this.checkAdmin()},selectedRoom:function(){this.getMonthArr(this.year,this.monthNum)},refresher:function(){this.getMonthArr(this.year,this.monthNum),this.refresher=!1}},filters:{dateFormat:function(t){var e=t+"000",a=Number(e),i=new Date(a),r=i.getHours(),n=i.getMinutes(),s=i.getDate(),o=i.getMonth()+1,c=i.getFullYear();return n<10&&(n="0"+n),r+" : "+n+"   "+s+"/"+o+"/"+c}}}},YaEn:function(t,e,a){"use strict";var i=a("7+uW"),r=a("/ocq"),n=a("J+R/"),s=a("iyFI"),o=a("F4/v"),c=a("H2he"),l=a("vXZJ"),u=a("IfTj");i.a.use(r.a),e.a=new r.a({routes:[{path:"/",name:"Auth",component:n.a},{path:"/calendar",name:"Calendar",component:s.a},{path:"/book/:id_room",name:"Book",component:o.a},{path:"/employeeList",name:"employeeList",component:c.a},{path:"/employeeEdit/:id",name:"employeeEdit",component:l.a},{path:"/employeeEdit/",name:"employeeEdit",component:l.a},{path:"/dateEdit/:year/:month/:day/:id",name:"dateEdit",component:u.a}]})},"Z+3r":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("h3",[t._v("Event for:"+t._s(t.room))]),t._v(" "),a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("1. Booked for:")]),t._v(" "),t.admin?a("select",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.user=e.target.multiple?a:a[0]}}},t._l(t.usersArr,function(e){return a("option",{domProps:{value:e.id_user}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),t._l(t.usersArr,function(e){return t.admin||e.id_user!=t.user?t._e():a("p",{staticClass:"text-left"},[t._v(t._s(e.name))])})],2)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[t._m(0),t._v(" "),t.timeStartMsg?a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.timeStartMsg))])]):t._e(),t._v(" "),t.timeEndMsg?a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left text-danger"},[t._v(t._s(t.timeEndMsg))])]):t._e(),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-4 marg col-xs-4"},[t.admin||t.userId==t.user?a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeStartHour,expression:"timeStartHour"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeStartHour=e.target.multiple?a:a[0]}}},t._l(12,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})):t._e(),t._v(" "),t.admin||t.userId==t.user?t._e():a("p",[t._v(t._s(t.timeStartHour))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-4 marg col-xs-4"},[t.admin||t.userId==t.user?a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeStartMin,expression:"timeStartMin"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeStartMin=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),t._l(3,function(e){return a("option",{domProps:{value:15*e}},[t._v(t._s(15*e))])})],2):t._e(),t._v(" "),t.admin||t.userId==t.user?t._e():a("p",[t._v(t._s(t.timeStartMin))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-4 marg col-xs-4"},[t.admin||t.userId==t.user?a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeStartMidnight,expression:"timeStartMidnight"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeStartMidnight=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("PM")])]):t._e(),t._v(" "),t.admin||t.userId==t.user||0!=t.timeStartMidnight?t._e():a("p",[t._v("AM")]),t._v(" "),t.admin||t.userId==t.user||1!=t.timeStartMidnight?t._e():a("p",[t._v("PM")])]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"},[t.admin||t.userId==t.user?a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeEndHour,expression:"timeEndHour"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeEndHour=e.target.multiple?a:a[0]}}},t._l(12,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])})):t._e(),t._v(" "),t.admin||t.userId==t.user?t._e():a("p",[t._v(t._s(t.timeEndHour))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"},[t.admin||t.userId==t.user?a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeEndMin,expression:"timeEndMin"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeEndMin=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),t._l(3,function(e){return a("option",{domProps:{value:15*e}},[t._v(t._s(15*e))])})],2):t._e(),t._v(" "),t.admin||t.userId==t.user?t._e():a("p",[t._v(t._s(t.timeEndMin))])]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"},[t.admin||t.userId==t.user?a("select",{directives:[{name:"model",rawName:"v-model",value:t.timeEndMidnight,expression:"timeEndMidnight"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.timeEndMidnight=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("AM")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("PM")])]):t._e(),t._v(" "),t.admin||t.userId==t.user||0!=t.timeEndMidnight?t._e():a("p",[t._v("AM")]),t._v(" "),t.admin||t.userId==t.user||1!=t.timeEndMidnight?t._e():a("p",[t._v("PM")])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("3. The specifics for the meetings:")]),t._v(" "),a("p",[t._v(t._s(t.desc))])])])]),t._v(" "),t.admin&&t.recurringCheck||t.userId==t.user&&t.recurringCheck?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"checkbox"},[a("label",{staticClass:"pull-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.recurring,expression:"recurring"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.recurring)?t._i(t.recurring,null)>-1:t.recurring},on:{change:function(e){var a=t.recurring,i=e.target,r=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&(t.recurring=a.concat([null])):n>-1&&(t.recurring=a.slice(0,n).concat(a.slice(n+1)))}else t.recurring=r}}}),t._v(" 4. Apply to all occurrences?\n          ")])])])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"pull-left"},[t._v("Submitted:"+t._s(t.dayCreate))])])])]),t._v(" "),t.admin||t.userId==t.user?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4"},[a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.editBookRoom}},[t._v("Update")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.deleteBooking}},[t._v("Delete")])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-left"},[t._v("2. Specify what the time and end of the meeting(This will be what people see on the calendar.)")])])}],n={render:i,staticRenderFns:r};e.a=n},ZpdP:function(t,e,a){"use strict";function i(t){a("FYox")}var r=a("Vcaf"),n=a("93Ec"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-43e42c2e",null);e.a=c.exports},e4UG:function(t,e){},hfb1:function(t,e){},iyFI:function(t,e,a){"use strict";function i(t){a("hfb1")}var r=a("YT0m"),n=a("2C4d"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-38da9f54",null);e.a=c.exports},ngLG:function(t,e,a){"use strict";e.a={name:"auth",data:function(){return{msg:"Please enter login and pass",login:"",pass:"",err:""}},created:function(){getCookie("id")&&this.$router.push("/calendar")},methods:{loginMeth:function(){var t=this,e={login:this.login,pass:this.pass},a=function(e){1==e?t.$router.push("/calendar"):t.err="wrong password or login"},i=function(e){t.err="some connection issues"};putQuery(this,myPath+"application/api/auth/",e).then(a,i)}}}},qF7k:function(t,e,a){"use strict";e.a={name:"dateEdit",data:function(){return{msg:"book",room:"",roomId:"",usersArr:[],user:"",yearsArr:["2017","2018","2019"],monthArr:["January","February","March","April","May","June","Julay","August","September","October","November","December"],days:[],month:0,year:0,day:0,dayCreate:"",timeStartHour:1,timeEndHour:1,timeStartMin:0,timeEndMin:0,timeStartMidnight:0,timeEndMidnight:0,recurring:!1,recurringCheck:!1,recurringType:1,recurringDuration:"",desc:"",admin:!1,userId:getCookie("id"),timeStartMsg:"",timeEndMsg:""}},created:function(){this.checkAdmin(),this.getUsers(),this.setDateSelect(),this.getEventData()},methods:{formCheck:function(){this.timeStartMsg="",this.timeEndMsg="";var t=function(t,e){return"0"==e?t>=8:t<=8},e=t(this.timeStartHour,this.timeStartMidnight),a=t(this.timeEndHour,this.timeEndMidnight);if(this.timeStartHour==this.timeEndHour&&this.timeStartMin==this.timeEndMin&&this.timeStartMidnight==this.timeEndMidnight){this.timeStartMsg="start and end of meeting cant bee equivalent",this.timeEndMsg="";var i=!1}else var i=!0;return e?e=!0:(this.timeStartMsg="rooms are availiable from 8 a.m. to 8 p.m, wrong start value",e=!1),a?a=!0:(this.timeEndMsg="rooms are availiable from 8 a.m. to 8 p.m, wrong end value",a=!1),!!(e&&a&&i)},getEventData:function(){var t=this,e=this.$route.params.id,a=function(e){var a=e[0];t.roomId=a.roomId,t.user=a.user,t.desc=a.desc,"1"==a.recurring&&(t.recurringCheck=!0);var i=new Date,r=new Date,n=new Date;a.startEvent+="000",a.endEvent+="000",a.dayCreation+="000",i.setTime(Number(a.startEvent)),r.setTime(Number(a.endEvent)),n.setTime(Number(a.dayCreation)),t.month=i.getMonth(),t.day=i.getDate()-1,t.dayCreate=n.toDateString();var s=i.getHours();s>12?(s-=12,t.timeStartMidnight=1):t.timeStartMidnight=0,t.timeStartHour=s;var o=r.getHours();o>12?(o-=12,t.timeEndMidnight=1):t.timeEndMidnight=0,t.timeEndHour=o;var c=i.getFullYear();for(var l in t.yearsArr)t.yearsArr[l]==c&&(t.year=l);t.timeStartMin=i.getMinutes(),t.timeEndMin=r.getMinutes()};getQuery(this,myPath+"application/api/events/"+e).then(a,null)},deleteBooking:function(){var t=this.$route.params.id+"/"+this.recurring,e=function(t){window.opener.getDelete(!0,t,"del"),window.close()};confirm("Are you sure?")&&deleteQuery(this,myPath+"application/api/events/",t).then(e,null)},setDateSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Date;if(t)var a=t+1;else var a=e.getMonth()+1;this.days=[];for(var i=new Date(e.getFullYear(),a,0).getDate(),r=1;r<=i;r++)this.days.push(r)},getRooms:function(){var t=this,e=function(e){for(var a in e)t.roomId==e[a].id_room&&(t.room=e[a].name)};getQuery(this,myPath+"application/api/rooms/").then(e,null)},getUsers:function(){var t=this,e=function(e){t.usersArr=e};getQuery(this,myPath+"application/api/users/").then(e,null)},checkAdmin:function(){var t=this,e=function(e){"1"==e.id_role?t.admin=!0:(t.admin=!1,t.userId=getCookie("id"))};getQuery(this,myPath+"application/api/auth/").then(e,null)},editBookRoom:function(){var t=new Date,e=this.timeStartHour,a=this.timeEndHour;"1"==this.timeStartMidnight&&(e+=12),"1"==this.timeEndMidnight&&(a+=12);var i=new Date(this.yearsArr[this.year],this.month,this.days[this.day],e,this.timeStartMin),r=new Date(this.yearsArr[this.year],this.month,this.days[this.day],a,this.timeEndMin),n={roomId:this.roomId,eventId:this.$route.params.id,user:this.user,dayCreation:new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()/1e3,startEvent:i.getTime()/1e3,endEvent:r.getTime()/1e3,recurring:this.recurring},s=function(t){window.opener.getDelete(!0,t,"edit"),window.close()};this.formCheck()&&putQuery(this,myPath+"application/api/events/",n).then(s,null)}},watch:{month:function(t){this.setDateSelect(t)},roomId:function(){this.getRooms()}}}},qWC8:function(t,e,a){"use strict";var i=a("YORi");e.a={name:"month",created:function(){this.getEvents(),this.checkAdmin()},data:function(){return{msg:"month",daysTextUs:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],daysTextRu:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],events:[],days:this.monthArr,daysProps:[],month:this.monthNumber,admin:!1}},props:["monthArr","format","monthNumber","room","year","hourF"],components:{Day:i.a},methods:{getEvents:function(){var t=this,e=this.monthNumber+1,a=this.year+"/"+e,i=function(e){t.daysProps=[];for(var a in e)e[a].dayCreation+="000",e[a].endEvent+="000",e[a].startEvent+="000";t.daysProps=[];for(var i in t.days)for(var r in t.days[i])t.getDayProp(t.days[i][r].data,e)};getQuery(this,myPath+"application/api/events/",a).then(i,null)},getDayProp:function(t,e){for(var a in e){var i=e[a].startEvent,i=parseInt(i),r=new Date(i).getDate(),n=new Date(i).getMonth(),s=new Date(i).getFullYear();if(t==r&&n==this.monthNumber){var o=parseInt(e[a].startEvent),c=parseInt(e[a].endEvent),l={id:e[a].id_event,day:r,start:o,end:c,desc:e[a].desc,roomId:e[a].roomId,year:s,month:n,user:e[a].user};this.daysProps.push(l)}}},checkAdmin:function(){var t=this,e=function(e){"1"==e.id_role?t.admin=!0:t.admin=!1};getQuery(this,myPath+"application/api/auth/").then(e,null)}},watch:{monthArr:function(t){this.days=t,this.getEvents()},monthNumber:function(t){this.getEvents()}}}},qgDj:function(t,e){},tVek:function(t,e,a){"use strict";e.a={name:"day",data:function(){return{msg:"day",eventsArr:[],dayArr:[],dayProp:[],idRoom:"",timeF:"",timeStateStart:"",timeStateEnd:"",shopHome:shopHome,user:getCookie("id"),admin:"",nowDate:Date.now()}},props:["day","dayData","room","timeFormat","year","month","adminProp"],created:function(){this.getItemProps(),this.idRoom=this.room,this.timeF=this.timeFormat,this.admin=this.adminProp},methods:{getItemProps:function(){this.dayProp=[];for(var t in this.dayData)this.dayData[t].day==this.day.data&&this.dayProp.push(this.dayData[t])}},watch:{day:function(t){this.dayProp=[],this.getItemProps()},room:function(t){this.idRoom=t,this.getItemProps()},dayData:function(){this.getItemProps()},timeFormat:function(t){this.timeF=t}},filters:{dateFormat:function(t,e){var a=t,i=new Date(a),r=i.getHours(),n=i.getMinutes();return n<10&&(n="0"+n),"24h"==e?r+" : "+n:(r>12?(r-=12,n+=" p.m."):n+=" a.m.",r+" : "+n)}}}},v9G5:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calend-table"},[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[t._l(t.daysTextRu,function(e){return"RU"==t.format?a("td",[t._v(t._s(e))]):t._e()}),t._v(" "),t._l(t.daysTextUs,function(e){return"US"==t.format?a("td",[t._v(t._s(e))]):t._e()})],2)]),t._v(" "),a("tbody",t._l(t.days,function(e){return a("tr",t._l(e,function(e){return a("td",[a("day",{attrs:{timeFormat:t.hourF,dayData:t.daysProps,room:t.room,day:e,year:t.year,month:t.monthNumber,admin:t.admin}})],1)}))}))])])},r=[],n={render:i,staticRenderFns:r};e.a=n},vXZJ:function(t,e,a){"use strict";function i(t){a("0jg9")}var r=a("8vKc"),n=a("6E8G"),s=a("VU/8"),o=i,c=s(r.a,n.a,!1,o,"data-v-d0ea4c20",null);e.a=c.exports},wjxB:function(t,e){},xJD8:function(t,e,a){"use strict";var i=a("ZpdP");e.a={name:"app",components:{HeaderBook:i.a}}}},["NHnr"]);
//# sourceMappingURL=app.4b8f6a62539e02889c55.js.map